<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HUBERCIK — Quiz szkoleniowy (sprawdzian.pdf)</title>
  <style>
    :root{
      --bg:#0b1220; --card:#0f172a; --card2:#020617; --text:#e5e7eb; --muted:#94a3b8;
      --line:#334155; --accent:#f97316; --ok:#22c55e; --bad:#ef4444; --info:#38bdf8;
      --shadow: 0 18px 55px rgba(0,0,0,.55); --radius: 16px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:radial-gradient(circle at top,#1e293b,#020617);color:var(--text);padding:16px}
    .wrap{max-width:920px;margin:0 auto}
    .top{position:sticky;top:10px;z-index:5;background:rgba(15,23,42,.85);border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);padding:12px 14px;box-shadow:var(--shadow);backdrop-filter:blur(10px);
      display:flex;justify-content:space-between;align-items:center;gap:10px}
    .brand{font-weight:900;letter-spacing:.8px}.brand b{color:var(--accent)}
    .pill{font-size:12px;color:var(--muted);border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);
      padding:6px 10px;border-radius:999px;white-space:nowrap}
    .card{margin-top:14px;background:rgba(15,23,42,.95);border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    h1{margin:6px 0 8px;font-size:24px}
    .sub{margin:0 0 14px;color:var(--muted);font-size:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .btn{appearance:none;border:0;cursor:pointer;padding:12px 16px;border-radius:12px;
      background:linear-gradient(180deg,var(--accent),#fb923c);color:#111827;font-weight:900;font-size:16px}
    .btn.secondary{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);color:var(--text);font-weight:800}
    .btn:active{transform:translateY(1px)}
    .hidden{display:none !important}
    .progress{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:13px;margin-bottom:10px;gap:10px}
    .barwrap{height:10px;border-radius:999px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06);overflow:hidden;margin:10px 0 12px}
    .bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--info));transition:width .25s ease}
    .q{font-size:18px;line-height:1.35;margin:6px 0 12px}
    .answers{display:grid;gap:10px}
    .opt{width:100%;text-align:left;padding:12px 12px;border-radius:12px;border:2px solid var(--line);
      background:var(--card2);color:var(--text);cursor:pointer;font-size:15px}
    .opt:hover{border-color:var(--accent)}
    .opt.correct{background:rgba(34,197,94,.14);border-color:var(--ok)}
    .opt.wrong{background:rgba(239,68,68,.12);border-color:var(--bad)}
    .opt:disabled{cursor:not-allowed;opacity:.98}
    .explain{margin-top:12px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.04);border-left:4px solid var(--info);color:#a5f3fc;font-size:13px;display:none}
    .foot{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-top:14px;align-items:center;color:var(--muted);font-size:13px}
    .score{font-weight:900;color:var(--text)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand"><b>HUBERCIK</b> — Quiz szkoleniowy</div>
      <div class="pill">sprawdzian.pdf • ABCD • offline</div>
    </div>

    <div class="card" id="startScreen">
      <h1>Test — wersja szkoleniowa</h1>
      <p class="sub">ABCD • jedna poprawna • po odpowiedzi pokazuje poprawną i wyjaśnienie • BEZ auto-przejścia.</p>
      <div class="row">
        <button class="btn" id="startBtn">START</button>
        <button class="btn secondary" id="shuffleBtn" title="Losuje kolejność pytań">Losuj pytania</button>
      </div>
      <div class="foot">
        <div>Tryb: <span class="score">szkoleniowy</span></div>
        <div>Pytania: <span class="score" id="totalCount">0</span></div>
      </div>
    </div>

    <div class="card hidden" id="quizScreen">
      <div class="progress">
        <div id="meta">Pytanie 1 / 100</div>
        <div>Wynik: <span class="score" id="score">0</span>/<span class="score" id="answered">0</span></div>
      </div>
      <div class="barwrap"><div class="bar" id="bar"></div></div>
      <div class="q" id="questionText">—</div>
      <div class="answers" id="answers"></div>
      <div class="explain" id="explain"></div>
      <div class="row" style="margin-top:12px">
        <button class="btn secondary" id="prevBtn">← Wstecz</button>
        <button class="btn" id="nextBtn">Dalej →</button>
      </div>
    </div>

    <div class="card hidden" id="endScreen">
      <h1>Koniec testu ✅</h1>
      <p class="sub" id="endLine">—</p>
      <div class="row">
        <button class="btn" id="restartBtn">Restart</button>
        <button class="btn secondary" id="reviewBtn">Przegląd</button>
      </div>
    </div>
  </div>

<script>
/* ========= DANE: PYTANIA ========= */
const QUESTIONS = [];
function addQ(q,a,c,e){ QUESTIONS.push({q,a,c,e}); }

/* --- Pytania 1–34 (z Twojego PDF) --- */
addQ("Rodzaje czynności ratowniczych: czynności „podstawowe” to…",
["czynności wykonywane w poszczególnych dziedzinach ratownictwa przez wszystkich ratowników","czynności wykonywane wyłącznie przez SGR","czynności tylko dla PSP","czynności tylko w strefie skażenia"],0,
"Podstawowe wykonują wszyscy ratownicy (wg definicji w materiale).");

addQ("Czynności „specjalistyczne” to…",
["czynności wykonywane z użyciem sprzętu specjalistycznego przez odpowiednio przeszkolonych ratowników","czynności bez sprzętu i szkoleń","tylko działania gaśnicze","tylko strefa II"],0,
"Specjalistyczne = sprzęt specjalistyczny + przeszkoleni ratownicy.");

addQ("Ratownictwo chemiczne to…",
["zespół czynności w celu ratowania życia/zdrowia i środowiska podczas likwidacji zagrożeń od substancji niebezpiecznych",
"gaszenie pożarów materiałów stałych","działania tylko biologiczne","tylko ewakuacja"],0,
"Definicja z PDF: ratowanie ludzi i środowiska przy zagrożeniach od substancji niebezpiecznych.");

addQ("Ratownictwo ekologiczne to…",
["zespół czynności w celu ratowania środowiska poprzez ograniczanie/likwidację skażeń z użyciem zabezpieczeń lub neutralizacji",
"tylko gaszenie","tylko rozpoznanie","tylko transport poszkodowanych"],0,
"Definicja z PDF: ograniczanie/likwidacja skażeń z zabezpieczeniami/neutralizacją.");

addQ("Ratownictwo radiacyjne w materiale to…",
["część RChE związana z likwidacją zagrożeń promieniowaniem i skażeniem promieniotwórczym","oddzielna dziedzina niezwiązana z RChE",
"tylko działania medyczne","tylko rozpoznanie pożarowe"],0,
"W PDF: radiacyjne jest częścią ratownictwa chemiczno-ekologicznego.");

addQ("Zastęp ratowniczo-gaśniczy (PDF) to min.…",
["6 ratowników/strażaków","4 ratowników/strażaków","8 ratowników/strażaków","12 ratowników/strażaków"],0,
"W materiale: zastęp = min. 6 osób (obsada pojazdu).");

addQ("W zastępie co najmniej … osoby mają kwalifikacje ze szkolenia kwalifikacyjnego.",
["2","1","3","4"],0,
"W materiale: w zastępie min. 2 osoby z kwalifikacjami.");

addQ("Sekcja ratowniczo-gaśnicza (PDF) to minimum…",
["dwa zastępy","trzy zastępy","jeden zastęp","cztery zastępy"],0,
"W materiale: sekcja = minimum 2 zastępy.");

addQ("Sekcja ratowniczo-gaśnicza liczy do…",
["12 wyszkolonych ratowników","10 wyszkolonych ratowników","8 wyszkolonych ratowników","6 wyszkolonych ratowników"],0,
"W materiale: do 12 ratowników (z dowódcą).");

addQ("Strefa I (PDF) to…",
["strefa zagrożenia / działań ratowniczych (w tym ewakuacji)","strefa wolna od skażenia","strefa logistyczna","obszar tylko dla medyków"],0,
"W materiale: strefa I = strefa zagrożenia i działań ratowniczych.");

addQ("Kto może przebywać w strefie I?",
["ratownicy z odpowiednimi ŚOI adekwatnymi do zagrożenia","każdy ratownik","osoby postronne po zgodzie","tylko KDR"],0,
"W materiale: tylko ratownicy wyposażeni w odpowiednie środki ochrony.");

addQ("Obszar dekontaminacji D (PDF) to…",
["obszar dekontaminacji wstępnej poza strefą I, możliwe wtórne skażenie mniejsze niż pierwotne","strefa bezpieczna","obszar tylko dla KDR","magazyn sprzętu czystego"],0,
"Materiał: D = dekontaminacja wstępna + możliwe skażenie wtórne.");

addQ("Strefa II (PDF) jest opisana jako…",
["obszar wolny od skażenia (praca służb + logistyka) poza strefą I i D","strefa bezpośredniego zagrożenia","obszar o większym skażeniu wtórnym","strefa tylko ewakuacji"],0,
"W materiale: strefa II = obszar wolny od skażenia, z logistyką.");

addQ("TR (toxic release) dzieli się na…",
["TRI (krótkotrwałe) oraz TRC (ciągłe)","TRL i TRH","TRS i TRZ","tylko TRC"],0,
"W materiale: TRI = krótkotrwałe, TRC = ciągłe.");

addQ("Dyfuzja to…",
["wyrównywanie stężeń wskutek bezładnego ruchu (prawo Ficka)","poziomy transport z wiatrem","wiązanie skażeń","rozkład biologiczny"],0,
"W materiale: dyfuzja = wyrównywanie stężeń (prawo Ficka).");

addQ("Adwekcja to…",
["poziome ruchy powietrza przenoszące skażenia","wyrównywanie stężeń","wiązanie skażeń","rozkład skażeń"],0,
"W materiale: adwekcja = poziomy transport skażeń ruchem powietrza.");

addQ("Sorpcja to…",
["pochłanianie skażeń w wyniku ich wiązania","rozpraszanie skażeń","poziomy transport","wyrównywanie stężeń"],0,
"Sorpcja = wiązanie/pochłanianie skażeń (wg materiału).");

addQ("Dyspersja to…",
["rozpraszanie skażeń w ośrodku","wiązanie skażeń","poziomy transport","rozkład biologiczny"],0,
"W materiale: dyspersja = rozpraszanie w ośrodku.");

addQ("Degradacja to…",
["rozkład skażeń w procesach chemicznych i biologicznych","rozpraszanie","wiązanie","poziomy transport"],0,
"W materiale: degradacja = rozkład chem./bio.");

addQ("DGW/LEL to…",
["najniższe stężenie palne w powietrzu zdolne do zapłonu/wybuchu","najwyższe stężenie palne","temperatura zapłonu","miara promieniowania"],0,
"LEL/DGW = dolna granica wybuchowości.");

addQ("GGW/UEL to…",
["najwyższe stężenie palne w powietrzu, przy którym wybuch jest jeszcze możliwy","najniższe stężenie palne","temperatura samozapalenia","wartość LD50"],0,
"UEL/GGW = górna granica wybuchowości.");

addQ("Temperatura zapłonu to…",
["najniższa temperatura, gdy ciecz wydziela tyle par, że mogą zapalić się od bodźca termicznego","temperatura samozapalenia","temperatura wrzenia","temperatura topnienia"],0,
"Z materiału: min. temp. zapłonu par od bodźca (iskra/płomień).");

addQ("Samozapalenie to proces, w którym…",
["wydziela się ciepło aż do samorzutnego zapalenia (bez otwartego ognia)","zawsze potrzebny jest płomień","zawsze zachodzi detonacja","dochodzi tylko do dyfuzji"],0,
"W materiale: wydzielanie ciepła aż do samorzutnego zapłonu.");

addQ("Temperatura samozapalenia to…",
["najniższa temperatura, przy której zachodzi samozapalenie","temperatura zapłonu","górna granica wybuchowości","temperatura krzepnięcia"],0,
"W materiale: minimalna temp. dla samozapalenia.");

addQ("„Dawka” w toksykologii to…",
["ilość substancji wchłoniętej do organizmu","czas ekspozycji","stężenie w powietrzu","miara dyfuzji"],0,
"W materiale: dawka = ilość wchłoniętej substancji.");

addQ("BLEVE to…",
["wybuchowe uwolnienie ekspandującej pary oraz wrzącej cieczy","wybuch niezwiązanej chmury par (UVCE)","pożar powierzchniowy","skażenie radiacyjne"],0,
"W materiale: BLEVE = ekspandująca para + wrząca ciecz.");

addQ("UVCE to…",
["wybuch niezwiązanej chmury par w powietrzu","BLEVE","TRC","NDSCh"],0,
"W materiale: UVCE = wybuch chmury par.");

addQ("LD50 to…",
["dawka (mg/kg) powodująca śmierć 50% zwierząt w 14 dni","stężenie (mg/m³) w powietrzu/wodzie","NDS","moc dawki"],0,
"LD50 = dawka w mg/kg (wg materiału).");

addQ("LC50 to…",
["stężenie (mg/m³) powodujące śmierć 50% zwierząt w 14 dni","dawka (mg/kg)","NDSP","LEL"],0,
"LC50 = stężenie w mg/m³ (wg materiału).");

addQ("NDS (TWA) to stężenie, które…",
["przy 8h/dobę przez wieloletni okres nie wywołuje objawów zatrucia","może być przekroczone zawsze","nie może być przekroczone nigdy (to NDSP)","dotyczy tylko promieniowania"],0,
"W materiale: NDS = 8h/dzień, długotrwale bez skutków.");

addQ("NDSCh (STEL) to…",
["stężenie chwilowe dopuszczalne maks. 2×15 min na zmianę z przerwą ≥1h","stężenie 8-godzinne","stężenie pułapowe (NDSP)","dawka śmiertelna"],0,
"W materiale: NDSCh = 2×15 min, odstęp min. 1h.");

addQ("NDSP to…",
["stężenie, którego nie wolno przekroczyć w żadnym momencie","stężenie 8-godzinne","stężenie 15-minutowe","wartość LC50"],0,
"NDSP = pułapowe, nieprzekraczalne (wg materiału).");

addQ("Dawka ekspozycyjna X jest miarą…",
["jonizacji w powietrzu pod wpływem promieniowania X lub γ","toksyczności w wodzie","zapalności par","dyfuzji"],0,
"W materiale: dawka ekspozycyjna dotyczy jonizacji powietrza.");

addQ("Wzór na dawkę ekspozycyjną to…",
["X = Q / m","X = m / Q","X = Q · m","X = Q² / m"],0,
"W materiale: X = Q/m.");

addQ("Jednostka SI dawki ekspozycyjnej to…",
["C/kg","R","mg/m³","µSv/h"],0,
"W materiale: C/kg.");

addQ("Zależność jednostek: 1 R = …",
["2,58·10⁻⁴ C/kg","2,58·10⁻² C/kg","2,58·10⁻⁶ C/kg","2,58·10⁻⁸ C/kg"],0,
"W materiale: 1 R = 2,58·10⁻⁴ C/kg.");

/* ========= FIX 1: TASOWANIE ODPOWIEDZI (żeby poprawna nie była zawsze A) ========= */
function shuffleAnswersKeepCorrect(q){
  const pairs = q.a.map((txt,i)=>({txt,i}));
  for(let i=pairs.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [pairs[i],pairs[j]]=[pairs[j],pairs[i]];
  }
  q.a = pairs.map(p=>p.txt);
  q.c = pairs.findIndex(p=>p.i===q.c);
}

/* ========= LOGIKA QUIZU (BEZ AUTO-PRZEJŚCIA) ========= */
let order = [], idx = 0, score = 0, answered = 0, locked = false;
let userAns = [];

const startScreen = document.getElementById('startScreen');
const quizScreen  = document.getElementById('quizScreen');
const endScreen   = document.getElementById('endScreen');

const startBtn    = document.getElementById('startBtn');
const shuffleBtn  = document.getElementById('shuffleBtn');

const totalCount  = document.getElementById('totalCount');
const meta        = document.getElementById('meta');
const bar         = document.getElementById('bar');
const qText       = document.getElementById('questionText');
const answersEl   = document.getElementById('answers');
const explainEl   = document.getElementById('explain');

const scoreEl     = document.getElementById('score');
const answeredEl  = document.getElementById('answered');

const prevBtn     = document.getElementById('prevBtn');
const nextBtn     = document.getElementById('nextBtn');

const endLine     = document.getElementById('endLine');
const restartBtn  = document.getElementById('restartBtn');
const reviewBtn   = document.getElementById('reviewBtn');

function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } }

function render(){
  locked = false;
  explainEl.style.display = "none";
  explainEl.textContent = "";

  const qi = order[idx];
  const item = QUESTIONS[qi];

  meta.textContent = `Pytanie ${idx+1} / ${order.length}`;
  bar.style.width = `${Math.round((idx/order.length)*100)}%`;

  qText.textContent = item.q;
  answersEl.innerHTML = "";

  item.a.forEach((t,i)=>{
    const b=document.createElement('button');
    b.className="opt";
    b.type="button";
    b.textContent = String.fromCharCode(65+i)+". "+t;
    b.addEventListener('click',()=>choose(i));
    answersEl.appendChild(b);
  });

  scoreEl.textContent = score;
  answeredEl.textContent = answered;

  prevBtn.disabled = (idx===0);
  nextBtn.textContent = (idx===order.length-1) ? "Zakończ →" : "Dalej →";

  const prev = userAns[qi];
  if(prev !== null){
    reveal(prev);
    locked = true;
  }
}

function reveal(chosen){
  const qi = order[idx];
  const item = QUESTIONS[qi];
  const btns = [...answersEl.querySelectorAll('.opt')];
  btns.forEach(b=>b.disabled=true);

  btns[item.c].classList.add('correct');
  if(chosen !== item.c) btns[chosen].classList.add('wrong');

  explainEl.style.display = "block";
  explainEl.textContent = item.e;
}

function choose(chosen){
  if(locked) return;
  locked = true;

  const qi = order[idx];
  const item = QUESTIONS[qi];

  if(userAns[qi] === null){
    answered++;
    if(chosen === item.c) score++;
  }
  userAns[qi] = chosen;

  scoreEl.textContent = score;
  answeredEl.textContent = answered;

  reveal(chosen);

  // FIX 2: brak auto-przejścia — czytasz wyjaśnienie i klikasz „Dalej” ręcznie
}

function next(fromAuto=false){
  const qi = order[idx];
  if(userAns[qi] === null){
    alert("Najpierw wybierz odpowiedź A/B/C/D.");
    return;
  }
  if(idx === order.length-1){ finish(); return; }
  idx++;
  render();
  window.scrollTo({top:0,behavior:'smooth'});
}

function prev(){
  if(idx===0) return;
  idx--;
  render();
  window.scrollTo({top:0,behavior:'smooth'});
}

/* ====== WKLEJ CZĘŚĆ 2/3 PONIŻEJ (pytania 35–67) ====== */
  /* ====== CZĘŚĆ 2/3 — pytania 35–67 ====== */

/* --- TSR / temperatury nadtlenków organicznych --- */

addQ(
  "TSR (temperatura samoprzyspieszającego się rozkładu) to…",
  [
    "najniższa temperatura, przy której może rozpocząć się samorzutny rozkład nadtlenku w opakowaniu",
    "najwyższa temperatura bezpiecznego transportu nadtlenku",
    "temperatura, przy której rozpoczyna się dekontaminacja",
    "temperatura zapłonu cieczy palnej"
  ],
  0,
  "TSR to próg, od którego rozkład może ruszyć samorzutnie w danym opakowaniu."
);

addQ(
  "Temperatura robocza (dla nadtlenków organicznych) to…",
  [
    "najwyższa temperatura, przy której nadtlenek może być bezpiecznie przechowywany i transportowany",
    "najniższa temperatura rozpoczęcia rozkładu (TSR)",
    "temperatura, przy której zachodzi UVCE",
    "temperatura, przy której nie wolno prowadzić rozpoznania"
  ],
  0,
  "Temperatura robocza jest wyznaczana tak, aby nie dopuścić do niekontrolowanego rozkładu."
);

addQ(
  "Temperatura alarmowa (dla nadtlenków organicznych) to…",
  [
    "temperatura, przy której powinny rozpocząć się działania ratownicze, by nie dopuścić do osiągnięcia TSR",
    "najwyższa temperatura bezpiecznego przechowywania",
    "temperatura wrzenia cieczy",
    "temperatura zapłonu"
  ],
  0,
  "Temperatura alarmowa uruchamia reakcję/ działania zanim osiągniesz TSR."
);

addQ(
  "W tabeli TSR: Grupa niebezpieczeństwa I odpowiada TSR…",
  [
    "poniżej 20°C",
    "od 20°C do 35°C",
    "powyżej 35°C",
    "dokładnie 35°C"
  ],
  0,
  "Grupa I ma najniższe TSR (najbardziej wrażliwe na temperaturę)."
);

addQ(
  "W tabeli TSR: Grupa niebezpieczeństwa II odpowiada TSR…",
  [
    "od 20°C do 35°C",
    "poniżej 20°C",
    "powyżej 35°C",
    "od 35°C do 50°C"
  ],
  0,
  "Grupa II: TSR w przedziale 20–35°C."
);

addQ(
  "W tabeli TSR: Grupa niebezpieczeństwa III odpowiada TSR…",
  [
    "powyżej 35°C",
    "od 20°C do 35°C",
    "poniżej 20°C",
    "dokładnie 20°C"
  ],
  0,
  "Grupa III ma najwyższe TSR."
);

addQ(
  "Dla grupy I: temperatura robocza wynosi…",
  [
    "20°C poniżej TSR",
    "15°C poniżej TSR",
    "10°C poniżej TSR",
    "5°C poniżej TSR"
  ],
  0,
  "Grupa I: robocza = TSR − 20°C."
);

addQ(
  "Dla grupy II: temperatura robocza wynosi…",
  [
    "15°C poniżej TSR",
    "20°C poniżej TSR",
    "10°C poniżej TSR",
    "5°C poniżej TSR"
  ],
  0,
  "Grupa II: robocza = TSR − 15°C."
);

addQ(
  "Dla grupy III: temperatura robocza wynosi…",
  [
    "10°C poniżej TSR",
    "20°C poniżej TSR",
    "15°C poniżej TSR",
    "5°C poniżej TSR"
  ],
  0,
  "Grupa III: robocza = TSR − 10°C."
);

addQ(
  "Dla grupy III: temperatura alarmowa wynosi…",
  [
    "5°C poniżej TSR",
    "10°C poniżej TSR",
    "15°C poniżej TSR",
    "20°C poniżej TSR"
  ],
  0,
  "Grupa III: alarmowa = TSR − 5°C."
);

addQ(
  "W tabeli TSR: dla grup I i II temperatura alarmowa wynosi…",
  [
    "10°C poniżej TSR",
    "5°C poniżej TSR",
    "15°C poniżej TSR",
    "20°C poniżej TSR"
  ],
  0,
  "Grupa I i II: alarmowa = TSR − 10°C."
);

/* --- TR / zdarzenia szczególne --- */

addQ(
  "TR (toxic release) oznacza…",
  [
    "toksyczne uwolnienie substancji",
    "wybuch zbiornika ciśnieniowego",
    "pożar strumieniowy",
    "skażenie promieniotwórcze terenu"
  ],
  0,
  "TR to toksyczne uwolnienie (istotne przy ocenie stref i ewakuacji)."
);

addQ(
  "TRI oznacza uwolnienie…",
  [
    "krótkotrwałe",
    "ciągłe",
    "wyłącznie w wodzie",
    "wyłącznie w glebie"
  ],
  0,
  "TRI = krótkotrwałe (instantly)."
);

addQ(
  "TRC oznacza uwolnienie…",
  [
    "ciągłe",
    "krótkotrwałe",
    "jednorazowe",
    "wyłącznie w powietrzu"
  ],
  0,
  "TRC = ciągłe (constantly)."
);

/* --- LD50 / LC50 / jednostki --- */

addQ(
  "LD50 (DL50) to…",
  [
    "dawka (mg/kg) powodująca śmierć 50% zwierząt doświadczalnych w określonym czasie",
    "stężenie (mg/m³) powodujące śmierć 50% zwierząt",
    "stężenie pułapowe w pracy",
    "granica wybuchowości"
  ],
  0,
  "LD50 odnosi się do dawki w przeliczeniu na masę ciała (mg/kg)."
);

addQ(
  "LC50 (CL50) to…",
  [
    "stężenie (mg/m³) powodujące śmierć 50% zwierząt doświadczalnych w określonym czasie",
    "dawka (mg/kg) powodująca śmierć 50% zwierząt",
    "temperatura zapłonu",
    "temperatura samozapalenia"
  ],
  0,
  "LC50 dotyczy stężenia w powietrzu/wodzie (mg/m³)."
);

addQ(
  "Jednostką LD50 jest…",
  [
    "mg/kg",
    "mg/m³",
    "C/kg",
    "µSv/h"
  ],
  0,
  "LD50: mg/kg."
);

addQ(
  "Jednostką LC50 jest…",
  [
    "mg/m³",
    "mg/kg",
    "C/kg",
    "R"
  ],
  0,
  "LC50: mg/m³."
);

/* --- NDS / NDSCh / NDSP --- */

addQ(
  "NDS (TWA) wg materiału to stężenie, które…",
  [
    "przy 8 godzinach pracy dziennie przez długi okres nie wywołuje objawów zatrucia",
    "może być dowolnie przekraczane",
    "jest nieprzekraczalne w każdym momencie",
    "dotyczy tylko promieniowania"
  ],
  0,
  "NDS to wartość uśredniona dla typowego dnia pracy."
);

addQ(
  "NDSCh (STEL) wg materiału to stężenie średnie, które…",
  [
    "może utrzymywać się krótkotrwale (2×15 min na zmianę) z przerwą co najmniej 1 h",
    "nie może być przekroczone nigdy",
    "jest średnią 8-godzinną",
    "równa się NDSP"
  ],
  0,
  "NDSCh dopuszcza krótkie ekspozycje w kontrolowanych warunkach."
);

addQ(
  "NDSP to stężenie…",
  [
    "którego nie wolno przekroczyć w żadnym momencie",
    "uśrednione dla 8 h pracy",
    "dopuszczalne 2×15 min na zmianę",
    "odnoszące się do LD50"
  ],
  0,
  "NDSP = pułapowe, bezwzględnie nieprzekraczalne."
);

/* --- Promieniowanie: dawka ekspozycyjna --- */

addQ(
  "Dawka ekspozycyjna (X) jest miarą…",
  [
    "jonizacji zachodzącej w powietrzu pod wpływem promieniowania X lub γ",
    "toksyczności substancji w wodzie",
    "zapalności par cieczy",
    "dyfuzji skażeń"
  ],
  0,
  "Dotyczy jonizacji powietrza (promieniowanie X/γ)."
);

addQ(
  "Wzór na dawkę ekspozycyjną to…",
  [
    "X = Q / m",
    "X = m / Q",
    "X = Q · m",
    "X = Q² / m"
  ],
  0,
  "W materiale: X = Q/m."
);

addQ(
  "Jednostką SI dawki ekspozycyjnej jest…",
  [
    "C/kg",
    "R",
    "Sv",
    "mg/m³"
  ],
  0,
  "W SI: C/kg."
);

addQ(
  "Zależność jednostek: 1 R = …",
  [
    "2,58·10⁻⁴ C/kg",
    "2,58·10⁻² C/kg",
    "2,58·10⁻⁶ C/kg",
    "2,58·10⁻⁸ C/kg"
  ],
  0,
  "W materiale: 1 R = 2,58·10⁻⁴ C/kg."
);

/* --- Prawo 1/r² (zadaniowe) --- */

addQ(
  "Jeśli moc dawki w odległości 1 m wynosi 400 µSv/h, to w odległości 20 m wynosi…",
  [
    "1 µSv/h",
    "20 µSv/h",
    "400 µSv/h",
    "8000 µSv/h"
  ],
  0,
  "Prawo 1/r²: 400*(1²/20²)=400/400=1 µSv/h."
);

addQ(
  "Prawo odwrotności kwadratu odległości oznacza, że…",
  [
    "podwojenie odległości zmniejsza moc dawki 4 razy",
    "podwojenie odległości zmniejsza moc dawki 2 razy",
    "podwojenie odległości zwiększa moc dawki 4 razy",
    "odległość nie wpływa na moc dawki"
  ],
  0,
  "To klasyczna zależność 1/r²."
);

/* ====== WKLEJ CZĘŚĆ 3/3 PONIŻEJ (pytania 68–100 + START + event listenery + zamknięcie HTML) ====== */
  /* ====== CZĘŚĆ 3/3 — pytania 68–100 + START + event listenery + zamknięcie HTML ====== */

/* --- 68–76: granice wybuchowości / temperatury / definicje --- */

addQ(
  "Które stwierdzenie o LEL/DGW jest poprawne?",
  [
    "poniżej LEL mieszanina jest zbyt uboga w paliwo, aby mogła wybuchnąć",
    "poniżej LEL wybuch jest zawsze pewny",
    "LEL oznacza temperaturę samozapalenia",
    "LEL dotyczy tylko substancji stałych"
  ],
  0,
  "LEL/DGW to minimalne stężenie palne — poniżej niego mieszanina jest za uboga na zapłon/wybuch."
);

addQ(
  "Które stwierdzenie o UEL/GGW jest poprawne?",
  [
    "powyżej UEL mieszanina jest zbyt bogata w paliwo, aby mogła wybuchnąć",
    "powyżej UEL wybuch jest zawsze pewny",
    "UEL to dolna granica wybuchowości",
    "UEL to wartość NDS"
  ],
  0,
  "UEL/GGW to maksymalne stężenie palne — powyżej niego mieszanina jest za bogata (za mało tlenu)."
);

addQ(
  "Temperatura zapłonu (wg materiału) to sytuacja, gdy…",
  [
    "powyżej tej temperatury pary cieczy mogą zapalić się od bodźca (iskra/płomień)",
    "ciecz zapala się zawsze bez bodźca",
    "zawsze dochodzi do detonacji",
    "granice wybuchowości przestają obowiązywać"
  ],
  0,
  "To minimalna temperatura, przy której pary mogą zapalić się od zewnętrznego bodźca."
);

addQ(
  "Temperatura samozapalenia to…",
  [
    "najniższa temperatura, przy której następuje zapłon bez bodźca zewnętrznego",
    "najniższa temperatura, gdy pary zapalają się od iskry",
    "temperatura wrzenia",
    "temperatura topnienia"
  ],
  0,
  "Samozapalenie zachodzi bez iskry/płomienia — to minimalna temp. dla tego zjawiska."
);

addQ(
  "„Dawka” w toksykologii to…",
  [
    "ilość substancji wchłoniętej do organizmu",
    "czas przebywania w strefie zagrożenia",
    "stężenie w powietrzu",
    "granica wybuchowości"
  ],
  0,
  "Dawka odnosi się do ilości, która realnie trafiła do organizmu."
);

/* --- 77–84: UVCE / BLEVE / TR --- */

addQ(
  "UVCE oznacza…",
  [
    "wybuch niezwiązanej chmury par w powietrzu",
    "wybuch zbiornika z cieczą pod ciśnieniem (BLEVE)",
    "toksyczne uwolnienie ciągłe",
    "proces dyfuzji"
  ],
  0,
  "UVCE to wybuch chmury par (cieczy palnej) w powietrzu."
);

addQ(
  "BLEVE oznacza…",
  [
    "wybuchowe uwolnienie ekspandującej pary i wrzącej cieczy",
    "wybuch niezwiązanej chmury par (UVCE)",
    "stężenie pułapowe NDSP",
    "proces sorpcji"
  ],
  0,
  "BLEVE dotyczy typowo zbiornika pod ciśnieniem z cieczą, która gwałtownie wrze."
);

addQ(
  "TR (toxic release) oznacza…",
  [
    "toksyczne uwolnienie substancji",
    "wybuch zbiornika",
    "pożar strumieniowy",
    "promieniowanie jonizujące"
  ],
  0,
  "TR to toksyczne uwolnienie, kluczowe dla stref i ewakuacji."
);

addQ(
  "TRI oznacza uwolnienie…",
  [
    "krótkotrwałe",
    "ciągłe",
    "tylko w wodzie",
    "tylko w glebie"
  ],
  0,
  "TRI: krótko i intensywnie (instantly)."
);

addQ(
  "TRC oznacza uwolnienie…",
  [
    "ciągłe",
    "krótkotrwałe",
    "jednorazowe",
    "tylko w powietrzu"
  ],
  0,
  "TRC: ciągłe (constantly)."
);

/* --- 85–92: NDS / NDSCh / NDSP + LD50/LC50 --- */

addQ(
  "Które stwierdzenie najlepiej opisuje NDS/NDSCh/NDSP?",
  [
    "NDS: 8h; NDSCh: 2×15 min; NDSP: nieprzekraczalne",
    "NDS: nieprzekraczalne; NDSP: 8h; NDSCh: dowolnie",
    "wszystkie są takie same",
    "dotyczą tylko promieniowania"
  ],
  0,
  "To trzy różne poziomy: średnie (NDS), krótkotrwałe (NDSCh) i pułapowe (NDSP)."
);

addQ(
  "NDSCh wg materiału może wystąpić maksymalnie…",
  [
    "2 razy po 15 min na zmianę, z przerwą ≥ 1 godziny",
    "1 raz na zmianę bez przerwy",
    "dowolną liczbę razy",
    "tylko w nocy"
  ],
  0,
  "To reguła 2×15 min na zmianę i przerwa minimum 1 godzina."
);

addQ(
  "LD50 vs LC50 — poprawne jest:",
  [
    "LD50 to dawka (mg/kg), LC50 to stężenie (mg/m³)",
    "LD50 to stężenie, LC50 to dawka",
    "oznaczają to samo",
    "dotyczą promieniowania"
  ],
  0,
  "LD50 = dawka, LC50 = stężenie."
);

addQ(
  "Jednostka LD50 to…",
  [
    "mg/kg",
    "mg/m³",
    "C/kg",
    "µSv/h"
  ],
  0,
  "LD50 podaje się w mg/kg."
);

addQ(
  "Jednostka LC50 to…",
  [
    "mg/m³",
    "mg/kg",
    "C/kg",
    "R"
  ],
  0,
  "LC50 podaje się w mg/m³."
);

/* --- 93–100: procesy środowiskowe + podsumowania --- */

addQ(
  "„Rozpraszanie skażeń w ośrodku” to…",
  [
    "dyspersja",
    "sorpcja",
    "dyfuzja",
    "adwekcja"
  ],
  0,
  "Dyspersja = rozpraszanie w ośrodku."
);

addQ(
  "„Wyrównywanie stężeń” to…",
  [
    "dyfuzja",
    "adwekcja",
    "degradacja",
    "sorpcja"
  ],
  0,
  "Dyfuzja = wyrównywanie stężeń (prawo Ficka)."
);

addQ(
  "„Transport skażeń z wiatrem (poziomy)” to…",
  [
    "adwekcja",
    "dyfuzja",
    "dyspersja",
    "degradacja"
  ],
  0,
  "Adwekcja = transport ruchem powietrza."
);

addQ(
  "„Wiązanie/pochłanianie skażeń” to…",
  [
    "sorpcja",
    "dyspersja",
    "adwekcja",
    "dyfuzja"
  ],
  0,
  "Sorpcja = wiązanie/pochłanianie."
);

addQ(
  "„Rozkład skażeń chemiczny/biologiczny” to…",
  [
    "degradacja",
    "dyspersja",
    "adwekcja",
    "sorpcja"
  ],
  0,
  "Degradacja = rozkład chemiczny i biologiczny."
);

addQ(
  "Zestaw pojęć dotyczących palności/wybuchowości to…",
  [
    "LEL/DGW, UEL/GGW, temperatura zapłonu, temperatura samozapalenia",
    "LD50, LC50, NDS, NDSP",
    "dyfuzja, adwekcja, sorpcja",
    "TRI, TRC, C/kg"
  ],
  0,
  "Ten zestaw opisuje warunki zapłonu/wybuchu mieszanin."
);

addQ(
  "Zestaw pojęć dotyczących norm higienicznych pracy to…",
  [
    "NDS, NDSCh, NDSP",
    "LEL, UEL",
    "LD50, LC50",
    "UVCE, BLEVE"
  ],
  0,
  "NDS, NDSCh, NDSP to normy stężeń w środowisku pracy."
);

addQ(
  "Jeśli moc dawki w 1 m wynosi 400 µSv/h, to w 10 m wynosi…",
  [
    "4 µSv/h",
    "40 µSv/h",
    "400 µSv/h",
    "0,4 µSv/h"
  ],
  0,
  "Prawo 1/r²: 400*(1²/10²)=400/100=4 µSv/h."
);

addQ(
  "Prawo 1/r² oznacza, że podwojenie odległości powoduje spadek mocy dawki…",
  [
    "4 razy",
    "2 razy",
    "8 razy",
    "bez zmian"
  ],
  0,
  "Podwojenie odległości → 4× mniejsza moc dawki (1/r²)."
);

/* ========= URUCHOM FIX 1 (tasuj odpowiedzi w KAŻDYM pytaniu) ========= */
QUESTIONS.forEach(shuffleAnswersKeepCorrect);

/* ========= START/FINISH + OBSŁUGA UI ========= */
function start(){
  startScreen.classList.add('hidden');
  endScreen.classList.add('hidden');
  quizScreen.classList.remove('hidden');

  order = [...Array(QUESTIONS.length).keys()];
  idx = 0; score = 0; answered = 0; locked = false;
  userAns = new Array(QUESTIONS.length).fill(null);

  totalCount.textContent = QUESTIONS.length;
  render();
  window.scrollTo({top:0,behavior:'smooth'});
}

function finish(){
  quizScreen.classList.add('hidden');
  endScreen.classList.remove('hidden');
  const pct = Math.round((score / order.length) * 100);
  endLine.textContent = `Wynik: ${score}/${order.length} (${pct}%).`;
  window.scrollTo({top:0,behavior:'smooth'});
}

/* przyciski */
startBtn.addEventListener('click', start);

shuffleBtn.addEventListener('click', ()=>{
  order = [...Array(QUESTIONS.length).keys()];
  shuffle(order);
  alert("Wylosowano kolejność pytań. Kliknij START.");
});

nextBtn.addEventListener('click', ()=>next(false));
prevBtn.addEventListener('click', prev);

restartBtn.addEventListener('click', ()=>{
  order = [...Array(QUESTIONS.length).keys()];
  shuffle(order);
  startScreen.classList.remove('hidden');
  quizScreen.classList.add('hidden');
  endScreen.classList.add('hidden');
  alert("Zrestartowano. Kliknij START.");
});

reviewBtn.addEventListener('click', ()=>{
  quizScreen.classList.remove('hidden');
  endScreen.classList.add('hidden');
  idx = 0;
  render();
});

/* init */
totalCount.textContent = QUESTIONS.length;
order = [...Array(QUESTIONS.length).keys()];

</script>
</body>
</html>
