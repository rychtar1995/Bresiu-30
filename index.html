<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HUBERCIK — Quiz szkoleniowy (sprawdzian.pdf)</title>
  <style>
    :root{
      --bg:#0b1220; --card:#0f172a; --card2:#020617; --text:#e5e7eb; --muted:#94a3b8;
      --line:#334155; --accent:#f97316; --ok:#22c55e; --bad:#ef4444; --info:#38bdf8;
      --shadow: 0 18px 55px rgba(0,0,0,.55); --radius: 16px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;background:radial-gradient(circle at top,#1e293b,#020617);color:var(--text);padding:16px}
    .wrap{max-width:920px;margin:0 auto}
    .top{position:sticky;top:10px;z-index:5;background:rgba(15,23,42,.85);border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);padding:12px 14px;box-shadow:var(--shadow);backdrop-filter:blur(10px);
      display:flex;justify-content:space-between;align-items:center;gap:10px}
    .brand{font-weight:900;letter-spacing:.8px}.brand b{color:var(--accent)}
    .pill{font-size:12px;color:var(--muted);border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.04);
      padding:6px 10px;border-radius:999px;white-space:nowrap}
    .card{margin-top:14px;background:rgba(15,23,42,.95);border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    h1{margin:6px 0 8px;font-size:24px}
    .sub{margin:0 0 14px;color:var(--muted);font-size:14px}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
    .btn{appearance:none;border:0;cursor:pointer;padding:12px 16px;border-radius:12px;
      background:linear-gradient(180deg,var(--accent),#fb923c);color:#111827;font-weight:900;font-size:16px}
    .btn.secondary{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.10);color:var(--text);font-weight:800}
    .btn:active{transform:translateY(1px)}
    .hidden{display:none !important}
    .progress{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:13px;margin-bottom:10px;gap:10px}
    .barwrap{height:10px;border-radius:999px;border:1px solid rgba(255,255,255,.10);background:rgba(255,255,255,.06);overflow:hidden;margin:10px 0 12px}
    .bar{height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--info));transition:width .25s ease}
    .q{font-size:18px;line-height:1.35;margin:6px 0 12px}
    .answers{display:grid;gap:10px}
    .opt{width:100%;text-align:left;padding:12px 12px;border-radius:12px;border:2px solid var(--line);
      background:var(--card2);color:var(--text);cursor:pointer;font-size:15px}
    .opt:hover{border-color:var(--accent)}
    .opt.correct{background:rgba(34,197,94,.14);border-color:var(--ok)}
    .opt.wrong{background:rgba(239,68,68,.12);border-color:var(--bad)}
    .opt:disabled{cursor:not-allowed;opacity:.98}
    .explain{margin-top:12px;padding:10px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.04);border-left:4px solid var(--info);color:#a5f3fc;font-size:13px;display:none}
    .foot{display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap;margin-top:14px;align-items:center;color:var(--muted);font-size:13px}
    .score{font-weight:900;color:var(--text)}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="brand"><b>HUBERCIK</b> — Quiz szkoleniowy</div>
      <div class="pill">sprawdzian.pdf • ABCD • offline</div>
    </div>

    <div class="card" id="startScreen">
      <h1>Test — wersja szkoleniowa</h1>
      <p class="sub">Pytania ABCD • jedna poprawna • po odpowiedzi pokazuje poprawną oraz wyjaśnienie.</p>
      <div class="row">
        <button class="btn" id="startBtn">START</button>
        <button class="btn secondary" id="shuffleBtn" title="Losuje kolejność pytań">Losuj kolejność</button>
      </div>
      <div class="foot">
        <div>Tryb: <span class="score">szkoleniowy</span></div>
        <div>Pytania: <span class="score" id="totalCount">0</span></div>
      </div>
    </div>

    <div class="card hidden" id="quizScreen">
      <div class="progress">
        <div id="meta">Pytanie 1 / 100</div>
        <div>Wynik: <span class="score" id="score">0</span>/<span class="score" id="answered">0</span></div>
      </div>
      <div class="barwrap"><div class="bar" id="bar"></div></div>
      <div class="q" id="questionText">—</div>
      <div class="answers" id="answers"></div>
      <div class="explain" id="explain"></div>
      <div class="row" style="margin-top:12px">
        <button class="btn secondary" id="prevBtn">← Wstecz</button>
        <button class="btn" id="nextBtn">Dalej →</button>
      </div>
    </div>

    <div class="card hidden" id="endScreen">
      <h1>Koniec testu ✅</h1>
      <p class="sub" id="endLine">—</p>
      <div class="row">
        <button class="btn" id="restartBtn">Restart</button>
        <button class="btn secondary" id="reviewBtn">Przegląd</button>
      </div>
    </div>
  </div>

<script>
/* ========= DANE: PYTANIA (REALNE Z PDF) ========= */
const QUESTIONS = [];
function addQ(q,a,c,e){ QUESTIONS.push({q,a,c,e}); }

/* --- Pytania 1–34 (na podstawie treści sprawdzian.pdf) --- */

addQ(
  "Rodzaje czynności ratowniczych wg §2 (KSRG): czynności „podstawowe” to…",
  [
    "czynności wykonywane w poszczególnych dziedzinach ratownictwa przez wszystkich ratowników",
    "czynności wykonywane wyłącznie przez SGR z użyciem sprzętu specjalistycznego",
    "czynności wykonywane tylko przez PSP (bez OSP)",
    "czynności realizowane tylko w strefie skażenia"
  ],
  0,
  "W PDF jest definicja: podstawowe wykonują wszyscy ratownicy (w różnych dziedzinach ratownictwa)."
);

addQ(
  "Czynności „specjalistyczne” wg §2 to…",
  [
    "czynności wykonywane z użyciem sprzętu specjalistycznego przez odpowiednio przeszkolonych ratowników",
    "czynności wykonywane bez sprzętu i bez szkoleń",
    "czynności wykonywane tylko w działaniach gaśniczych",
    "czynności wykonywane wyłącznie w strefie II"
  ],
  0,
  "Definicja z PDF: specjalistyczne = sprzęt specjalistyczny + ratownicy odpowiednio przeszkoleni."
);

addQ(
  "Ratownictwo chemiczne (wg prezentacji) jest to…",
  [
    "zespół czynności podjętych w celu ratowania życia i zdrowia ludzi oraz środowiska podczas likwidacji bezpośrednich zagrożeń stwarzanych przez substancje niebezpieczne",
    "gaszenie pożarów materiałów stałych",
    "działania dotyczące wyłącznie skażeń biologicznych",
    "tylko ewakuacja ludności z miejsca zdarzenia"
  ],
  0,
  "Wprost z PDF: ratownictwo chemiczne = zespół czynności dla ratowania ludzi i środowiska przy zagrożeniach od substancji niebezpiecznych."
);

addQ(
  "Ratownictwo ekologiczne (wg prezentacji) to…",
  [
    "zespół czynności podjętych w celu ratowania środowiska poprzez ograniczanie lub likwidację skażeń z zastosowaniem skutecznych zabezpieczeń lub środków neutralizujących",
    "działania wyłącznie gaśnicze",
    "czynności ograniczone do rozpoznania",
    "tylko transport skażonych osób"
  ],
  0,
  "Definicja z PDF: ratownictwo ekologiczne = ograniczanie/likwidacja skażeń z użyciem zabezpieczeń lub neutralizacji."
);

addQ(
  "Ratownictwo radiacyjne w prezentacji jest opisane jako…",
  [
    "część ratownictwa chemiczno-ekologicznego, związana z likwidacją zagrożeń promieniowaniem i promieniotwórczym skażeniem środowiska",
    "oddzielna dziedzina niezwiązana z chemiczno-ekologicznym",
    "działania wyłącznie medyczne",
    "tylko rozpoznanie pożarowe"
  ],
  0,
  "W PDF: ratownictwo radiacyjne jest częścią ratownictwa chemiczno-ekologicznego (promieniowanie + skażenie promieniotwórcze)."
);

addQ(
  "W KSRG podział ratownictwa chemiczno-ekologicznego (RChE) ze względu na sprzęt i wyszkolenie obejmuje m.in.…",
  [
    "zakres podstawowy oraz zakres specjalistyczny",
    "wyłącznie zakres specjalistyczny",
    "wyłącznie zakres podstawowy",
    "podział tylko na strefy I i II"
  ],
  0,
  "W PDF jest podział: zakres podstawowy oraz zakres specjalistyczny."
);

addQ(
  "Zakres podstawowy RChE obejmuje czynności wykonywane przez…",
  [
    "wszystkie JRG PSP oraz inne jednostki/podmioty deklarujące zdolność realizacji zadań wg możliwości i wyszkolenia",
    "tylko specjalistyczne grupy ratownictwa",
    "wyłącznie jednostki spoza PSP",
    "tylko ratowników z poziomu A"
  ],
  0,
  "W PDF: podstawowy = czynności wszystkich JRG PSP + inne podmioty wg gotowości i możliwości."
);

addQ(
  "Zakres specjalistyczny RChE (wg PDF) dzieli ratownictwo chemiczne i ekologiczne specjalistyczne na…",
  [
    "dwa podzakresy (m.in. działań chemicznych oraz czynności rozpoznawcze w części ekologicznej)",
    "trzy strefy działań (I/II/III)",
    "cztery klasy ADR",
    "dwa rodzaje dekontaminacji (wstępna i końcowa) jako podzakresy"
  ],
  0,
  "W prezentacji: specjalistyczny jest podzielony na dwa podzakresy (w tym podzakres działań chemicznych realizowany przez SGR CHEM-EKO)."
);

addQ(
  "SGR CHEM-EKO to…",
  [
    "specjalistyczna grupa ratowników z przeszkoleniem chemiczno-ekologicznym oraz pojazdami i sprzętem ratownictwa chemicznego/technicznego/gaśniczego",
    "dowolny zastęp w JRG",
    "sekcja ratowniczo-gaśnicza bez sprzętu chemicznego",
    "wyłącznie zespół do dekontaminacji końcowej"
  ],
  0,
  "Definicja z PDF: SGR CHEM-EKO = przeszkoleni ratownicy + pojazdy i sprzęt do zadań chemiczno-ekologicznych."
);

addQ(
  "„Zastęp ratowniczo-gaśniczy” wg prezentacji to najmniejsza jednostka taktyczna złożona z co najmniej…",
  [
    "6 ratowników/strażaków",
    "4 ratowników/strażaków",
    "8 ratowników/strażaków",
    "12 ratowników/strażaków"
  ],
  0,
  "W PDF: zastęp = min. 6 ratowników/strażaków (obsada pojazdu bojowego)."
);

addQ(
  "W definicji zastępu (PDF) wskazano również, że co najmniej … osoby mają kwalifikacje ze szkolenia kwalifikacyjnego.",
  [
    "2",
    "1",
    "3",
    "4"
  ],
  0,
  "W PDF: w zastępie co najmniej 2 osoby z kwalifikacjami ze szkolenia kwalifikacyjnego."
);

addQ(
  "„Sekcja ratowniczo-gaśnicza” wg PDF to najmniejszy pododdział taktyczny złożony z minimum…",
  [
    "dwóch zastępów",
    "trzech zastępów",
    "jednego zastępu",
    "czterech zastępów"
  ],
  0,
  "W PDF: sekcja = minimum dwa zastępy."
);

addQ(
  "Sekcja ratowniczo-gaśnicza wg PDF liczy do…",
  [
    "12 wyszkolonych ratowników",
    "10 wyszkolonych ratowników",
    "8 wyszkolonych ratowników",
    "6 wyszkolonych ratowników"
  ],
  0,
  "W PDF: sekcja liczy do 12 wyszkolonych ratowników (w tym dowódca)."
);

addQ(
  "Podział terenu akcji (chemiczno-ekologicznej) obejmuje m.in. strefę I jako…",
  [
    "strefę zagrożenia (strefę działań ratowniczych, w tym ewakuacji)",
    "strefę wolną od skażenia",
    "strefę wyłącznie logistyczną",
    "obszar wyłącznie dla medyków"
  ],
  0,
  "W PDF: strefa I = strefa zagrożenia i działań ratowniczych (w tym ewakuacja)."
);

addQ(
  "Kto ma prawo przebywać w strefie I wg PDF?",
  [
    "wyłącznie ratownicy wyposażeni w odpowiedni do sytuacji sprzęt ochrony osobistej",
    "każdy ratownik bez względu na wyposażenie",
    "osoby postronne po zgodzie KDR",
    "tylko dowódca akcji"
  ],
  0,
  "Wprost z PDF: w strefie I przebywają tylko ratownicy z odpowiednim ŚOI."
);

addQ(
  "Obszar dekontaminacji „D” w PDF to…",
  [
    "obszar dekontaminacji wstępnej poza strefą I, gdzie może wystąpić wtórne skażenie mniejsze niż pierwotne",
    "strefa wolna od skażenia",
    "obszar tylko dla KDR",
    "miejsce składowania sprzętu czystego"
  ],
  0,
  "W PDF: D = dekontaminacja wstępna poza strefą I + możliwe wtórne skażenie."
);

addQ(
  "Strefa II wg PDF jest opisana jako…",
  [
    "wolny od skażenia obszar pracy służb, poza strefą I i obszarem dekontaminacji, wraz z obszarem zabezpieczenia logistycznego",
    "strefa bezpośredniego zagrożenia",
    "obszar wtórnego skażenia o większym natężeniu niż pierwotne",
    "wyłącznie strefa ewakuacji"
  ],
  0,
  "W PDF: strefa II = obszar wolny od skażenia (praca służb + logistyka), poza I i D."
);

addQ(
  "Skażenie chemiczne TR (toxic release) w PDF dzieli się m.in. na…",
  [
    "krótkotrwałe (TRI) oraz ciągłe (TRC)",
    "lekkie (TRL) oraz ciężkie (TRH)",
    "stałe (TRS) oraz zmienne (TRZ)",
    "tylko ciągłe (TRC)"
  ],
  0,
  "W PDF: TR może być krótkotrwałe (instantly) TRI lub ciągłe (constantly) TRC."
);

addQ(
  "Dyfuzja (proces migracji/rozkładu zanieczyszczeń) to…",
  [
    "wyrównywanie stężeń wskutek bezładnego ruchu i tworzenie jednorodnej mieszaniny (prawo Ficka)",
    "poziome ruchy powietrza przenoszące skażenia",
    "rozpraszanie skażeń w ośrodku",
    "rozkład skażeń w procesach chemicznych i biologicznych"
  ],
  0,
  "Definicja z PDF: dyfuzja = wyrównywanie stężeń (prawo Ficka)."
);

addQ(
  "Adwekcja (wg PDF) to…",
  [
    "poziome ruchy powietrza przenoszące skażenia wzdłuż linii prądu",
    "wyrównywanie stężeń wskutek bezładnego ruchu",
    "pochłanianie skażeń przez wiązanie",
    "rozkład skażeń w procesach biologicznych"
  ],
  0,
  "Definicja z PDF: adwekcja = poziomy transport skażeń ruchem powietrza."
);

addQ(
  "Sorpcja (wg PDF) oznacza…",
  [
    "pochłanianie skażeń w wyniku ich związywania",
    "rozpraszanie skażeń w ośrodku",
    "poziomy transport skażeń",
    "chemiczny rozkład skażeń"
  ],
  0,
  "W PDF: sorpcja = pochłanianie skażeń przez ich wiązanie."
);

addQ(
  "Dyspersja (wg PDF) to…",
  [
    "rozpraszanie skażeń w danym ośrodku",
    "pochłanianie skażeń przez wiązanie",
    "poziome ruchy powietrza",
    "wyrównywanie stężeń (prawo Ficka)"
  ],
  0,
  "W PDF: dyspersja = rozpraszanie skażeń w ośrodku."
);

addQ(
  "Degradacja (wg PDF) to…",
  [
    "rozkład skażeń w procesach chemicznych i biologicznych",
    "rozpraszanie skażeń w ośrodku",
    "pochłanianie skażeń przez wiązanie",
    "poziome ruchy powietrza"
  ],
  0,
  "W PDF: degradacja = rozkład skażeń w procesach chemicznych i biologicznych."
);

addQ(
  "Dolna granica wybuchowości (DGW/LEL) wg PDF to…",
  [
    "najniższe stężenie substancji palnej w mieszaninie z powietrzem, przy którym może nastąpić zapalenie/wybuch pod bodźcem termicznym",
    "najwyższe stężenie substancji palnej, przy którym jeszcze może nastąpić wybuch",
    "temperatura, przy której ciecz wydziela pary zdolne do zapłonu",
    "miara promieniowania jonizującego w powietrzu"
  ],
  0,
  "DGW/LEL = minimalne stężenie palnej substancji w powietrzu, przy którym możliwy jest zapłon/wybuch."
);

addQ(
  "Górna granica wybuchowości (GGW/UEL) oznacza…",
  [
    "najwyższe stężenie substancji palnej w mieszaninie z powietrzem, przy którym może jeszcze nastąpić wybuch",
    "najniższe stężenie substancji palnej, przy którym może już nastąpić zapalenie",
    "dolną granicę toksyczności",
    "temperaturę samozapalenia"
  ],
  0,
  "GGW/UEL = najwyższe stężenie palnej substancji, przy którym wybuch jest jeszcze możliwy."
);

addQ(
  "Temperatura zapłonu cieczy wg PDF to…",
  [
    "najniższa temperatura, przy której ciecz wydziela tyle par, że powstaje mieszanina zdolna zapalić się od bodźca termicznego",
    "temperatura, przy której następuje samorzutny zapłon bez bodźca zewnętrznego",
    "temperatura wrzenia cieczy",
    "temperatura topnienia cieczy"
  ],
  0,
  "Temperatura zapłonu = minimalna temp., gdy pary nad cieczą mogą zapalić się od iskry/płomienia."
);

addQ(
  "Samozapalenie (wg PDF) to proces, podczas którego…",
  [
    "wydziela się ciepło aż do samorzutnego zapalenia się (bez otwartego źródła ognia)",
    "ciecz osiąga temperaturę wrzenia",
    "dochodzi wyłącznie do dyfuzji par",
    "występuje tylko po podaniu płomienia"
  ],
  0,
  "W PDF: samozapalenie to wydzielanie ciepła aż do samorzutnego zapłonu."
);

addQ(
  "Temperatura samozapalenia (wg PDF) to…",
  [
    "najniższa temperatura, przy której następuje samozapalenie",
    "najniższa temperatura, przy której ciecz wydziela palne pary (temperatura zapłonu)",
    "górna granica wybuchowości",
    "temperatura, przy której ciecz krzepnie"
  ],
  0,
  "Temperatura samozapalenia = minimalna temp., przy której zachodzi samozapalenie."
);

addQ(
  "W prezentacji „dawka” jest opisana jako…",
  [
    "ilość substancji wchłoniętej do żywego organizmu",
    "czas oddziaływania substancji na organizm",
    "stężenie substancji w powietrzu",
    "miara dyfuzji w środowisku"
  ],
  0,
  "W PDF: dawka = ilość substancji, która wchłonęła się do organizmu."
);

addQ(
  "W toksykologii na wielkość skutku działania substancji wpływa wprost…",
  [
    "dawka oraz czas ekspozycji",
    "wyłącznie wilgotność powietrza",
    "wyłącznie kolor substancji",
    "tylko pora dnia"
  ],
  0,
  "Zależność opisywana w materiale: działanie zależy od dawki i czasu oddziaływania (ekspozycji)."
);

addQ(
  "Który zestaw pojęć dotyczy procesów przemieszczania/zmian zanieczyszczeń w środowisku (wg PDF)?",
  [
    "dyfuzja, adwekcja, sorpcja, dyspersja, degradacja",
    "DGW, GGW, LEL, UEL, NDS",
    "BLEVE, UVCE, flashover, backdraft, rollover",
    "SGR, JRG, KDR, KSRG, PAA"
  ],
  0,
  "W PDF wprost: procesy migracji i rozkładu to m.in. dyfuzja, adwekcja, sorpcja, dyspersja, degradacja."
);

addQ(
  "Które zdanie najlepiej oddaje sens DGW/LEL w praktyce ratowniczej?",
  [
    "poniżej DGW mieszanina jest zbyt „uboga” w paliwo, aby wybuchnąć",
    "poniżej DGW zawsze dochodzi do wybuchu",
    "DGW oznacza temperaturę zapłonu",
    "DGW dotyczy wyłącznie substancji stałych"
  ],
  0,
  "DGW/LEL wyznacza minimalne stężenie palnej substancji, przy którym zapłon/wybuch staje się możliwy."
);

/* ========= LOGIKA QUIZU (ciąg dalszy w cz. 3/3) ========= */
let order = [];      // kolejność pytań
let idx = 0;         // indeks w kolejności
let score = 0;       // liczba poprawnych
let answered = 0;    // liczba udzielonych odpowiedzi
let locked = false;  // blokada wielokrotnego kliku
let userAns = [];    // zapamiętane odpowiedzi

const startScreen = document.getElementById('startScreen');
const quizScreen  = document.getElementById('quizScreen');
const endScreen   = document.getElementById('endScreen');

const startBtn    = document.getElementById('startBtn');
const shuffleBtn  = document.getElementById('shuffleBtn');

const totalCount  = document.getElementById('totalCount');
const meta        = document.getElementById('meta');
const bar         = document.getElementById('bar');
const qText       = document.getElementById('questionText');
const answersEl   = document.getElementById('answers');
const explainEl   = document.getElementById('explain');

const scoreEl     = document.getElementById('score');
const answeredEl  = document.getElementById('answered');

const prevBtn     = document.getElementById('prevBtn');
const nextBtn     = document.getElementById('nextBtn');

const endLine     = document.getElementById('endLine');
const restartBtn  = document.getElementById('restartBtn');
const reviewBtn   = document.getElementById('reviewBtn');

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [arr[i],arr[j]]=[arr[j],arr[i]];
  }
}

function render(){
  locked = false;
  explainEl.style.display = "none";
  explainEl.textContent = "";

  const qi = order[idx];
  const item = QUESTIONS[qi];

  meta.textContent = `Pytanie ${idx+1} / ${order.length}`;
  bar.style.width = `${Math.round((idx/order.length)*100)}%`;

  qText.textContent = item.q;

  answersEl.innerHTML = "";
  item.a.forEach((t,i)=>{
    const b=document.createElement('button');
    b.className="opt";
    b.type="button";
    b.textContent = String.fromCharCode(65+i)+". "+t;
    b.addEventListener('click',()=>choose(i));
    answersEl.appendChild(b);
  });

  scoreEl.textContent = score;
  answeredEl.textContent = answered;

  prevBtn.disabled = (idx===0);
  nextBtn.textContent = (idx===order.length-1) ? "Zakończ →" : "Dalej →";

  const prev = userAns[qi];
  if(prev !== null){
    reveal(prev);
    locked = true;
  }
}

function reveal(chosen){
  const qi = order[idx];
  const item = QUESTIONS[qi];
  const btns = [...answersEl.querySelectorAll('.opt')];
  btns.forEach(b=>b.disabled=true);

  btns[item.c].classList.add('correct');
  if(chosen !== item.c) btns[chosen].classList.add('wrong');

  explainEl.style.display = "block";
  explainEl.textContent = item.e;
}

function choose(chosen){
  if(locked) return;
  locked = true;

  const qi = order[idx];
  const item = QUESTIONS[qi];

  if(userAns[qi] === null){
    answered++;
    if(chosen === item.c) score++;
  }
  userAns[qi] = chosen;

  scoreEl.textContent = score;
  answeredEl.textContent = answered;

  reveal(chosen);

  // auto-next (szkoleniowo)
  setTimeout(()=>{
    if(idx < order.length-1) next(true);
  }, 650);
}

function next(fromAuto=false){
  const qi = order[idx];
  if(userAns[qi] === null){
    if(!fromAuto) alert("Najpierw wybierz odpowiedź A/B/C/D.");
    return;
  }
  if(idx === order.length-1){
    finish();
    return;
  }
  idx++;
  render();
  window.scrollTo({top:0,behavior:'smooth'});
}

function prev(){
  if(idx===0) return;
  idx--;
  render();
  window.scrollTo({top:0,behavior:'smooth'});
}

/* ====== WKLEJ CZĘŚĆ 2/3 PONIŻEJ (pytania 35–67) ====== */
  /* ====== CZĘŚĆ 2/3 (pytania 35–67) — wklej pod częścią 1/3 ====== */

/* --- 35–44: TSR / temperatury dla nadtlenków organicznych --- */

addQ(
  "TSR (temperatura samoprzyspieszającego się rozkładu) to…",
  [
    "najniższa temperatura, przy której może rozpocząć się samorzutny rozkład nadtlenku w opakowaniu",
    "najwyższa temperatura bezpiecznego transportu nadtlenku",
    "temperatura, przy której rozpoczyna się dekontaminacja",
    "temperatura zapłonu cieczy palnej"
  ],
  0,
  "W PDF: TSR = najniższa temperatura, przy której może rozpocząć się samorzutny rozkład nadtlenku w opakowaniu."
);

addQ(
  "Temperatura robocza (dla nadtlenków organicznych) to…",
  [
    "najwyższa temperatura, przy której nadtlenek może być bezpiecznie przechowywany i transportowany",
    "najniższa temperatura rozpoczęcia rozkładu (TSR)",
    "temperatura, przy której następuje wybuch BLEVE",
    "temperatura, przy której nie wolno prowadzić rozpoznania"
  ],
  0,
  "W PDF: temperatura robocza = najwyższa temperatura bezpiecznego przechowywania i transportu."
);

addQ(
  "Temperatura alarmowa (dla nadtlenków organicznych) to…",
  [
    "temperatura, przy której powinny rozpocząć się działania ratownicze, by nie dopuścić do osiągnięcia TSR",
    "najwyższa temperatura przechowywania",
    "temperatura wrzenia cieczy",
    "temperatura zapłonu"
  ],
  0,
  "W PDF: temperatura alarmowa uruchamia działania ratownicze, aby nie dopuścić do osiągnięcia TSR."
);

addQ(
  "W tabeli TSR: Grupa niebezpieczeństwa I odpowiada TSR…",
  [
    "poniżej 20°C",
    "od 20°C do 35°C",
    "powyżej 35°C",
    "dokładnie 35°C"
  ],
  0,
  "W PDF: grupa I = TSR poniżej 20°C."
);

addQ(
  "W tabeli TSR: Grupa niebezpieczeństwa II odpowiada TSR…",
  [
    "od 20°C do 35°C",
    "poniżej 20°C",
    "powyżej 35°C",
    "od 35°C do 50°C"
  ],
  0,
  "W PDF: grupa II = TSR 20–35°C."
);

addQ(
  "W tabeli TSR: Grupa niebezpieczeństwa III odpowiada TSR…",
  [
    "powyżej 35°C",
    "od 20°C do 35°C",
    "poniżej 20°C",
    "dokładnie 20°C"
  ],
  0,
  "W PDF: grupa III = TSR powyżej 35°C."
);

addQ(
  "Dla grupy I: temperatura robocza wynosi…",
  [
    "20°C poniżej TSR",
    "15°C poniżej TSR",
    "10°C poniżej TSR",
    "5°C poniżej TSR"
  ],
  0,
  "W PDF (tabela): grupa I → temperatura robocza = TSR − 20°C."
);

addQ(
  "Dla grupy II: temperatura robocza wynosi…",
  [
    "15°C poniżej TSR",
    "20°C poniżej TSR",
    "10°C poniżej TSR",
    "5°C poniżej TSR"
  ],
  0,
  "W PDF: grupa II → temperatura robocza = TSR − 15°C."
);

addQ(
  "Dla grupy III: temperatura robocza wynosi…",
  [
    "10°C poniżej TSR",
    "20°C poniżej TSR",
    "15°C poniżej TSR",
    "5°C poniżej TSR"
  ],
  0,
  "W PDF: grupa III → temperatura robocza = TSR − 10°C."
);

addQ(
  "Dla grupy III: temperatura alarmowa wynosi…",
  [
    "5°C poniżej TSR",
    "10°C poniżej TSR",
    "15°C poniżej TSR",
    "20°C poniżej TSR"
  ],
  0,
  "W PDF (tabela): grupa III → temperatura alarmowa = TSR − 5°C."
);

addQ(
  "W tabeli TSR: dla grup I i II temperatura alarmowa wynosi…",
  [
    "10°C poniżej TSR",
    "5°C poniżej TSR",
    "15°C poniżej TSR",
    "20°C poniżej TSR"
  ],
  0,
  "W PDF: grupa I → TSR−10°C, grupa II → TSR−10°C."
);

/* --- 45–48: rodzaje zagrożeń / TR --- */

addQ(
  "BLEVE (wg PDF) to…",
  [
    "wybuchowe uwolnienie ekspandującej pary oraz wrzącej cieczy",
    "wybuch niezwiązanej chmury par w powietrzu",
    "pożar powierzchniowy",
    "skażenie promieniotwórcze terenu"
  ],
  0,
  "W PDF: BLEVE = wybuchowe uwolnienie ekspandującej pary i wrzącej cieczy."
);

addQ(
  "Skażenie chemiczne TR (toxic release) oznacza…",
  [
    "toksyczne uwolnienie substancji",
    "wybuch zbiornika ciśnieniowego",
    "pożar strumieniowy",
    "promieniowanie jonizujące"
  ],
  0,
  "W PDF: TR = toxic release (toksyczne uwolnienie)."
);

addQ(
  "TRI w prezentacji oznacza uwolnienie…",
  [
    "krótkotrwałe (instantly)",
    "ciągłe (constantly)",
    "wyłącznie w wodzie",
    "wyłącznie w powietrzu"
  ],
  0,
  "W PDF: TRI = krótkotrwałe (instantly)."
);

addQ(
  "TRC w prezentacji oznacza uwolnienie…",
  [
    "ciągłe (constantly)",
    "krótkotrwałe (instantly)",
    "jednorazowe (single)",
    "wyłącznie w glebie"
  ],
  0,
  "W PDF: TRC = ciągłe (constantly)."
);

/* --- 49–53: LD50 / LC50 --- */

addQ(
  "LD50 (DL50) wg PDF to…",
  [
    "ilość substancji, która powoduje śmierć 50% zwierząt doświadczalnych (200–300 g) w ciągu 14 dni [mg/kg]",
    "stężenie substancji w powietrzu powodujące śmierć 50% zwierząt [mg/m³]",
    "najwyższe dopuszczalne stężenie w pracy",
    "dawka ekspozycyjna promieniowania"
  ],
  0,
  "W PDF: LD50 = dawka (mg/kg) powodująca śmierć połowy zwierząt w 14 dni."
);

addQ(
  "LC50 (CL50) wg PDF to…",
  [
    "stężenie substancji w powietrzu lub wodzie powodujące śmierć 50% zwierząt (200–300 g) w ciągu 14 dni [mg/m³]",
    "ilość substancji wchłoniętej do organizmu [mg/kg]",
    "temperatura zapłonu cieczy",
    "górna granica wybuchowości"
  ],
  0,
  "W PDF: LC50 = stężenie (mg/m³) w powietrzu/wodzie prowadzące do śmierci 50% zwierząt w 14 dni."
);

addQ(
  "Jednostka LD50 podana w PDF to…",
  [
    "mg/kg",
    "mg/m³",
    "C/kg",
    "µSv/h"
  ],
  0,
  "W PDF: LD50 wyrażane w mg/kg."
);

addQ(
  "Jednostka LC50 podana w PDF to…",
  [
    "mg/m³",
    "mg/kg",
    "C/kg",
    "R (rentgen)"
  ],
  0,
  "W PDF: LC50 wyrażane w mg/m³."
);

/* --- 54–58: NDS / NDSCh / NDSP --- */

addQ(
  "NDS (TWA) wg PDF to stężenie, które…",
  [
    "przy stałym kontakcie przez 8 godzin dziennie przez wieloletni okres nie wywołuje objawów zatrucia",
    "może być przekraczane 2×15 minut na zmianę",
    "nie może być przekroczone w żadnym momencie",
    "dotyczy wyłącznie ekspozycji promieniowania"
  ],
  0,
  "W PDF: NDS (TWA) = bezpieczne przy 8h/dobę w długim okresie."
);

addQ(
  "NDS (TWA) w PDF podawane jest w jednostce…",
  [
    "mg/m³",
    "mg/kg",
    "µSv/h",
    "C/kg"
  ],
  0,
  "W PDF: NDS podaje się w mg/m³."
);

addQ(
  "NDSCh (STEL) wg PDF to stężenie średnie, które…",
  [
    "nie powinno powodować ujemnych zmian zdrowia (ani przyszłych pokoleń), jeśli utrzymuje się nie dłużej niż 2×15 min w zmianie, z odstępem ≥1h",
    "nie może być przekroczone nigdy",
    "jest uśrednione dla 8-godzinnego dnia pracy",
    "dotyczy tylko substancji promieniotwórczych"
  ],
  0,
  "W PDF: NDSCh = 2×15 min na zmianę, odstęp min. 1 godzina."
);

addQ(
  "NDSP wg PDF to stężenie, które…",
  [
    "nie może być przekroczone w środowisku pracy ze względu na zagrożenie zdrowia lub życia",
    "może być przekroczone 2×15 min",
    "jest bezpieczne przy 8h/dzień",
    "dotyczy wyłącznie pyłów"
  ],
  0,
  "W PDF: NDSP = pułapowe, nieprzekraczalne (zagrożenie zdrowia/życia)."
);

addQ(
  "Które pojęcie z PDF odpowiada „pułapowemu” stężeniu nieprzekraczalnemu?",
  [
    "NDSP",
    "NDSCh",
    "NDS (TWA)",
    "LD50"
  ],
  0,
  "W PDF: „Najwyższe dopuszczalne stężenie progowe (pułapowe)” = NDSP."
);

/* --- 59–63: promieniowanie / dawka ekspozycyjna / strefy --- */

addQ(
  "Dawka ekspozycyjna (X) wg PDF jest miarą…",
  [
    "jonizacji zachodzącej w powietrzu pod wpływem promieniowania X lub γ",
    "toksyczności substancji w wodzie",
    "zapalności par cieczy",
    "dyfuzji skażeń w środowisku"
  ],
  0,
  "W PDF: dawka ekspozycyjna mierzy jonizację w powietrzu od promieniowania X lub γ."
);

addQ(
  "Wzór na dawkę ekspozycyjną z PDF to…",
  [
    "X = Q / m",
    "X = m / Q",
    "X = Q · m",
    "X = Q² / m"
  ],
  0,
  "W PDF: X = Q/m (ładunek jonów jednego znaku / masa powietrza)."
);

addQ(
  "Jednostką dawki ekspozycyjnej w SI (wg PDF) jest…",
  [
    "C/kg",
    "R",
    "mg/m³",
    "µSv/h"
  ],
  0,
  "W PDF: jednostka SI dawki ekspozycyjnej to kulomb na kilogram (C/kg)."
);

addQ(
  "W PDF podano zależność jednostek: 1 R = …",
  [
    "2,58·10⁻⁴ C/kg",
    "2,58·10⁻² C/kg",
    "2,58·10⁻⁶ C/kg",
    "2,58·10⁻⁸ C/kg"
  ],
  0,
  "W PDF: 1 R = 2,58·10⁻⁴ C/kg."
);

addQ(
  "W pomiarach radiacyjnych (PDF) wyróżnia się m.in. strefę kontrolowaną jako…",
  [
    "teren o kontrolowanym dostępie i specjalnych przepisach ochrony przed promieniowaniem / skażeniami",
    "teren bez ograniczeń, wolny od przepisów",
    "obszar wyłącznie dekontaminacji",
    "strefę wyłącznie ewakuacji"
  ],
  0,
  "W PDF: strefa kontrolowana ma kontrolowany dostęp i szczególne przepisy ochronne."
);

/* --- 64–67: granice wybuchowości + prawo odwrotności kwadratu --- */

addQ(
  "DGW/LEL wg PDF to…",
  [
    "najniższe stężenie substancji palnej w powietrzu, przy którym może nastąpić zapalenie/wybuch pod wpływem bodźca termicznego",
    "najwyższe stężenie substancji palnej, przy którym wybuch jest możliwy",
    "temperatura samozapalenia",
    "stężenie pułapowe NDSP"
  ],
  0,
  "W PDF: DGW/LEL = dolna granica wybuchowości (minimalne stężenie palne)."
);

addQ(
  "GGW/UEL wg PDF to…",
  [
    "najwyższe stężenie substancji palnej w powietrzu, przy którym może jeszcze nastąpić wybuch pod wpływem bodźca termicznego",
    "najniższe stężenie substancji palnej, przy którym może nastąpić wybuch",
    "temperatura zapłonu",
    "wartość LD50"
  ],
  0,
  "W PDF: GGW/UEL = górna granica wybuchowości (maksymalne stężenie palne)."
);

addQ(
  "W zadaniu radiacyjnym z PDF: jeśli moc dawki w odległości 1 m wynosi 400 µSv/h, to w odległości 20 m (prawo odwrotności kwadratu) wynosi…",
  [
    "1 µSv/h",
    "20 µSv/h",
    "400 µSv/h",
    "8000 µSv/h"
  ],
  0,
  "W PDF: moc dawki maleje ~ 1/r². 400*(1²/20²)=400/400=1 µSv/h."
);

addQ(
  "W zadaniu radiacyjnym z PDF przyjęto zasadę, że moc dawki maleje proporcjonalnie do…",
  [
    "kwadratu odległości (1/r²)",
    "odległości (1/r)",
    "sześcianu odległości (1/r³)",
    "pierwiastka z odległości"
  ],
  0,
  "W PDF: „moc dawki maleje proporcjonalnie do kwadratu odległości od źródła” (prawo 1/r²)."
);

/* ====== KONIEC CZĘŚCI 2/3 ====== */
/* ====== WKLEJ CZĘŚĆ 3/3 PONIŻEJ (pytania 68–100 + start i obsługa przycisków) ====== */
 /* ====== CZĘŚĆ 3/3 (pytania 68–100 + zamknięcie logiki i HTML) ====== */

/* --- 68–75: UVCE / strefy / dekontaminacja i logistyka (wg PDF) --- */

addQ(
  "UVCE wg PDF oznacza…",
  [
    "wybuch niezwiązanej chmury par (cieczy palnej) w powietrzu",
    "wybuch zbiornika z cieczą pod ciśnieniem (BLEVE)",
    "pożar wewnętrzny z backdraftem",
    "skażenie promieniotwórcze terenu"
  ],
  0,
  "W PDF: UVCE = wybuch niezwiązanej chmury par w powietrzu."
);

addQ(
  "Strefa II w organizacji akcji (wg PDF) jest m.in. obszarem…",
  [
    "pracy służb poza strefą I i obszarem dekontaminacji oraz obszarem zabezpieczenia logistycznego",
    "bezpośredniego skażenia (najwyższe zagrożenie)",
    "w którym prowadzi się wyłącznie ewakuację ludności",
    "w którym przebywają osoby postronne"
  ],
  0,
  "W PDF: strefa II jest wolna od skażenia i obejmuje obszar pracy służb + logistyki."
);

addQ(
  "Obszar dekontaminacji (D) wg PDF jest zlokalizowany…",
  [
    "poza strefą I, na granicy stref działań, aby ograniczyć skażenie wtórne",
    "zawsze w środku strefy I",
    "zawsze w strefie II, daleko od działań",
    "wyłącznie w strefie III"
  ],
  0,
  "W PDF: D jest poza strefą I i służy do dekontaminacji wstępnej oraz ograniczania skażenia wtórnego."
);

addQ(
  "Kto może przebywać w strefie I wg PDF?",
  [
    "ratownicy wyposażeni w ŚOI adekwatne do zagrożenia",
    "każdy ratownik bez względu na ŚOI",
    "osoby postronne po krótkiej instrukcji",
    "tylko dowódca akcji"
  ],
  0,
  "W PDF: w strefie I mogą przebywać tylko ratownicy z odpowiednim sprzętem ochrony osobistej."
);

addQ(
  "Które pojęcie z PDF oznacza „rozpraszanie skażeń w ośrodku”?",
  [
    "dyspersja",
    "sorpcja",
    "adwekcja",
    "degradacja"
  ],
  0,
  "W PDF: dyspersja = rozpraszanie skażeń w danym ośrodku."
);

addQ(
  "Które pojęcie z PDF oznacza „poziomy transport skażeń ruchem powietrza”?",
  [
    "adwekcja",
    "dyfuzja",
    "dyspersja",
    "degradacja"
  ],
  0,
  "W PDF: adwekcja = poziome ruchy powietrza przenoszące skażenia."
);

addQ(
  "Które pojęcie z PDF oznacza „wyrównywanie stężeń w wyniku bezładnego ruchu (prawo Ficka)”?",
  [
    "dyfuzja",
    "adwekcja",
    "sorpcja",
    "degradacja"
  ],
  0,
  "W PDF: dyfuzja = wyrównywanie stężeń (prawo Ficka)."
);

addQ(
  "Które pojęcie z PDF oznacza „rozkład skażeń w procesach chemicznych i biologicznych”?",
  [
    "degradacja",
    "dyspersja",
    "sorpcja",
    "adwekcja"
  ],
  0,
  "W PDF: degradacja = rozkład w procesach chemicznych i biologicznych."
);

/* --- 76–84: granice wybuchowości, temperatury, definicje toksykologiczne --- */

addQ(
  "Które stwierdzenie o LEL/DGW jest poprawne?",
  [
    "poniżej LEL mieszanina jest zbyt „uboga” w paliwo, aby mogła wybuchnąć",
    "poniżej LEL zawsze dochodzi do wybuchu",
    "LEL oznacza temperaturę samozapalenia",
    "LEL dotyczy wyłącznie cieczy"
  ],
  0,
  "LEL/DGW to minimalne stężenie palne – poniżej niego mieszanina jest za uboga, by wybuchła."
);

addQ(
  "Które stwierdzenie o UEL/GGW jest poprawne?",
  [
    "powyżej UEL mieszanina jest zbyt „bogata” w paliwo, aby mogła wybuchnąć",
    "powyżej UEL wybuch jest zawsze pewny",
    "UEL to dolna granica wybuchowości",
    "UEL oznacza NDS"
  ],
  0,
  "UEL/GGW to najwyższe stężenie, przy którym wybuch jest możliwy; powyżej mieszanina jest zbyt bogata."
);

addQ(
  "Temperatura zapłonu (wg PDF) dotyczy sytuacji, w której…",
  [
    "powyżej tej temperatury pary cieczy mogą zapalić się od bodźca termicznego (iskra/płomień)",
    "ciecz zapala się samorzutnie bez bodźca",
    "zawsze dochodzi do detonacji",
    "mieszanina jest zawsze poza granicami wybuchowości"
  ],
  0,
  "W PDF: temperatura zapłonu = minimalna temp., gdy pary mogą zapalić się od bodźca."
);

addQ(
  "Temperatura samozapalenia (wg PDF) to…",
  [
    "najniższa temperatura, przy której następuje zapłon bez bodźca zewnętrznego",
    "najniższa temperatura, gdy pary zapalają się od iskry",
    "temperatura wrzenia",
    "temperatura topnienia"
  ],
  0,
  "Samozapalenie zachodzi bez zewnętrznego bodźca — to minimalna temp. dla takiego procesu."
);

addQ(
  "„Dawka” w toksykologii (wg PDF) to…",
  [
    "ilość substancji wchłoniętej do organizmu",
    "czas przebywania w strefie zagrożenia",
    "stężenie w powietrzu",
    "granica wybuchowości"
  ],
  0,
  "W PDF: dawka = ilość substancji wchłoniętej do organizmu."
);

addQ(
  "LD50 jest wyrażane w…",
  [
    "mg/kg",
    "mg/m³",
    "C/kg",
    "µSv/h"
  ],
  0,
  "LD50 to dawka (masa substancji) w przeliczeniu na masę ciała (mg/kg)."
);

addQ(
  "LC50 jest wyrażane w…",
  [
    "mg/m³",
    "mg/kg",
    "C/kg",
    "R"
  ],
  0,
  "LC50 to stężenie w powietrzu/wodzie (mg/m³) powodujące śmierć 50% zwierząt w 14 dni."
);

addQ(
  "Który zestaw najlepiej oddaje sens NDS/NDSCh/NDSP?",
  [
    "NDS: średnie dla 8h; NDSCh: chwilowe 2×15 min; NDSP: nieprzekraczalne w żadnym momencie",
    "NDS: nieprzekraczalne; NDSCh: 8h; NDSP: 2×15 min",
    "wszystkie są identyczne",
    "dotyczą tylko promieniowania"
  ],
  0,
  "W PDF wyraźnie rozróżniono: NDS (8h), NDSCh (2×15 min), NDSP (pułapowe)."
);

addQ(
  "NDSCh wg PDF może wystąpić maksymalnie…",
  [
    "2 razy po 15 minut na zmianę roboczą, z przerwą co najmniej 1 godziny",
    "1 raz na zmianę bez przerwy",
    "dowolną liczbę razy",
    "tylko w nocy"
  ],
  0,
  "W PDF: NDSCh można przekroczyć chwilowo 2×15 min z odstępem minimum 1h."
);

/* --- 85–92: promieniowanie / dawka ekspozycyjna / jednostki + przykład 1/r^2 --- */

addQ(
  "Dawka ekspozycyjna X wg PDF obliczana jest jako…",
  [
    "X = Q / m",
    "X = m / Q",
    "X = Q · m",
    "X = Q² / m"
  ],
  0,
  "W PDF: X = Q/m — ładunek jonów jednego znaku / masa powietrza."
);

addQ(
  "Jednostką SI dawki ekspozycyjnej jest…",
  [
    "C/kg",
    "R",
    "Sv",
    "mg/m³"
  ],
  0,
  "W PDF: w SI dawkę ekspozycyjną wyraża się w C/kg."
);

addQ(
  "Relacja jednostek podana w PDF: 1 R = …",
  [
    "2,58·10⁻⁴ C/kg",
    "2,58·10⁻² C/kg",
    "2,58·10⁻⁶ C/kg",
    "2,58·10⁻⁸ C/kg"
  ],
  0,
  "W PDF: 1 R = 2,58·10⁻⁴ C/kg."
);

addQ(
  "Jeśli moc dawki w 1 m wynosi 400 µSv/h, to w 10 m wynosi (prawo 1/r²)…",
  [
    "4 µSv/h",
    "40 µSv/h",
    "400 µSv/h",
    "0,4 µSv/h"
  ],
  0,
  "400*(1²/10²)=400/100=4 µSv/h."
);

addQ(
  "Jeśli moc dawki w 1 m wynosi 400 µSv/h, to w 20 m wynosi (prawo 1/r²)…",
  [
    "1 µSv/h",
    "2 µSv/h",
    "20 µSv/h",
    "0,5 µSv/h"
  ],
  0,
  "400*(1²/20²)=400/400=1 µSv/h."
);

addQ(
  "Wg PDF: strefa kontrolowana w ochronie radiologicznej to…",
  [
    "teren o kontrolowanym dostępie z dodatkowymi przepisami ochrony przed promieniowaniem i skażeniem",
    "teren w pełni bezpieczny bez wymagań",
    "obszar dekontaminacji wstępnej",
    "obszar ewakuacji ludności"
  ],
  0,
  "W PDF: strefa kontrolowana ma kontrolowany dostęp i szczególne zasady ochrony."
);

addQ(
  "Wg PDF: strefa nadzorowana to…",
  [
    "teren podlegający nadzorowi w zakresie ochrony radiologicznej (mniej restrykcyjny niż kontrolowana)",
    "teren bez żadnych zasad",
    "obszar bezpośredniego skażenia",
    "wyłącznie strefa dla medyków"
  ],
  0,
  "W PDF opisuje się strefy (kontrolowana i nadzorowana) w kontekście radiologicznym."
);

addQ(
  "Prawo odwrotności kwadratu odległości (1/r²) oznacza, że…",
  [
    "podwojenie odległości zmniejsza moc dawki 4 razy",
    "podwojenie odległości zmniejsza moc dawki 2 razy",
    "podwojenie odległości zwiększa moc dawki 4 razy",
    "odległość nie wpływa na moc dawki"
  ],
  0,
  "Wprost: moc dawki maleje proporcjonalnie do kwadratu odległości."
);

/* --- 93–100: przekrojowe pytania „łączące” cały materiał --- */

addQ(
  "Który zestaw pojęć z PDF dotyczy toksyczności i norm higienicznych pracy?",
  [
    "NDS / NDSCh / NDSP",
    "LEL / UEL",
    "dyfuzja / adwekcja",
    "BLEVE / UVCE"
  ],
  0,
  "NDS/NDSCh/NDSP to normy stężeń w środowisku pracy."
);

addQ(
  "Który zestaw pojęć z PDF dotyczy palności i wybuchowości mieszanin?",
  [
    "LEL(DGW) / UEL(GGW) / temperatura zapłonu / temperatura samozapalenia",
    "LD50 / LC50",
    "NDS / NDSP",
    "adwekcja / dyfuzja"
  ],
  0,
  "Te pojęcia opisują warunki zapłonu/wybuchu mieszanin palnych."
);

addQ(
  "Który zestaw pojęć z PDF dotyczy „ruchu i losu” skażeń w środowisku?",
  [
    "dyfuzja / adwekcja / dyspersja / sorpcja / degradacja",
    "BLEVE / UVCE",
    "LD50 / LC50",
    "NDS / NDSCh"
  ],
  0,
  "To pięć kluczowych procesów opisanych w materiale."
);

addQ(
  "Które stwierdzenie najlepiej opisuje różnicę LD50 vs LC50?",
  [
    "LD50 to dawka (mg/kg), LC50 to stężenie (mg/m³)",
    "LD50 to stężenie (mg/m³), LC50 to dawka (mg/kg)",
    "oba oznaczają to samo",
    "oba odnoszą się do promieniowania"
  ],
  0,
  "W PDF: LD50 = mg/kg, LC50 = mg/m³."
);

addQ(
  "Które zdarzenie z PDF jest typowo „chmurowo-wybuchowe” w powietrzu?",
  [
    "UVCE",
    "BLEVE",
    "TRC",
    "sorpcja"
  ],
  0,
  "UVCE dotyczy wybuchu niezwiązanej chmury par w powietrzu."
);

addQ(
  "Które zdarzenie z PDF dotyczy zbiornika z cieczą pod ciśnieniem (gwałtowny rozpad + para)?",
  [
    "BLEVE",
    "UVCE",
    "LEL",
    "NDSCh"
  ],
  0,
  "BLEVE to rozpad zbiornika i wybuchowe uwolnienie pary oraz wrzącej cieczy."
);

addQ(
  "W praktyce działań: pojęcia dyfuzja/adwekcja najbliżej odpowiadają…",
  [
    "„mieszanie się” (dyfuzja) vs „transport z wiatrem” (adwekcja)",
    "„transport z wiatrem” (dyfuzja) vs „mieszanie się” (adwekcja)",
    "„wiązanie” (dyfuzja) vs „rozkład” (adwekcja)",
    "„pożar” (dyfuzja) vs „wybuch” (adwekcja)"
  ],
  0,
  "Dyfuzja = mieszanie i wyrównywanie stężeń, adwekcja = transport ruchem powietrza."
);

addQ(
  "Najlepsza para „stężenie minimalne palne” i „stężenie maksymalne palne” to…",
  [
    "LEL (DGW) i UEL (GGW)",
    "NDS i NDSP",
    "LD50 i LC50",
    "TRI i TRC"
  ],
  0,
  "LEL/DGW to minimum palne, UEL/GGW to maksimum palne."
);

/* ========= START/FINISH + OBSŁUGA UI ========= */

function start(){
  startScreen.classList.add('hidden');
  endScreen.classList.add('hidden');
  quizScreen.classList.remove('hidden');

  order = [...Array(QUESTIONS.length).keys()];
  // kolejność zostaje, jeśli user wcześniej kliknął „Losuj kolejność”
  // ale gdyby nie kliknął – też jest OK
  idx = 0;
  score = 0;
  answered = 0;
  locked = false;
  userAns = new Array(QUESTIONS.length).fill(null);

  totalCount.textContent = QUESTIONS.length;
  render();
  window.scrollTo({top:0,behavior:'smooth'});
}

function finish(){
  quizScreen.classList.add('hidden');
  endScreen.classList.remove('hidden');
  const pct = Math.round((score / order.length) * 100);
  endLine.textContent = `Wynik: ${score}/${order.length} (${pct}%).`;
  window.scrollTo({top:0,behavior:'smooth'});
}

startBtn.addEventListener('click', start);

shuffleBtn.addEventListener('click', ()=>{
  if(order.length===0){
    order = [...Array(QUESTIONS.length).keys()];
  }
  shuffle(order);
  alert("Wylosowano kolejność pytań. Kliknij START.");
});

nextBtn.addEventListener('click', ()=>next(false));
prevBtn.addEventListener('click', prev);

restartBtn.addEventListener('click', ()=>{
  order = [...Array(QUESTIONS.length).keys()];
  shuffle(order);
  startScreen.classList.remove('hidden');
  quizScreen.classList.add('hidden');
  endScreen.classList.add('hidden');
  alert("Zrestartowano. Kliknij START.");
});

reviewBtn.addEventListener('click', ()=>{
  // przegląd: wraca do quizu i pozwala przechodzić pytania
  quizScreen.classList.remove('hidden');
  endScreen.classList.add('hidden');
  idx = 0;
  render();
});

/* init */
totalCount.textContent = "100";
order = [...Array(QUESTIONS.length).keys()];

</script>
</body>
</html> 
